<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Dither Demo</title>
    <link rel="stylesheet" href="/src/style.css" />
  </head>
  <body>
    <div id="app">
      <div class="main-content">
        <!-- Left Column: Canvas and Zoom/Pan Controls -->
        <div class="canvas-container">
          <div class="canvas-frame">
            <canvas id="demo-canvas"></canvas>
          </div>
          <div class="zoom-controls">
            <label for="zoom">Zoom:</label>
            <input type="range" id="zoom" min="1" max="5" step="0.1" value="1">
            <span id="zoom-value">1</span>
          </div>
        </div>
        <!-- Right Column: Other Controls -->
        <div class="controls-container">
          <h1>Dither.WASM</h1>
          <!-- Algorithm Selector -->
          <div class="controls">
            <div class="control-group">
              <label for="algorithm">Algorithm:</label>
              <select id="algorithm">
                <option value="ordered_dither">Bayer-Ordered</option>
                <option value="floyd-steinberg">Floydâ€‘Steinberg</option>
                <option value="threshold">Threshold</option>
              </select>
            </div>
          </div>
          <!-- Slider Controls -->
          <div class="controls">
            <div class="control-group">
              <label for="contrast">Contrast:</label>
              <input type="range" id="contrast" min="0" max="200" value="100">
              <span id="contrast-value">100</span>
            </div>
            <div class="control-group">
              <label for="threshold">Luminance Threshold:</label>
              <input type="range" id="threshold" min="0" max="255" value="128">
              <span id="threshold-value">128</span>
            </div>
            <div class="control-group">
              <label for="gamma">Highlights &amp; Midtones:</label>
              <input type="range" id="gamma" min="0.5" max="2.0" step="0.1" value="1.0">
              <span id="gamma-value">1.0</span>
            </div>
            <div class="control-group">
              <label for="pixelation">Pixelation:</label>
              <input type="range" id="pixelation" min="1" max="10" value="1">
              <span id="pixelation-value">1</span>
            </div>
            <div class="control-group">
              <label for="block-scale">Block Scale</label>
              <input id="block-scale" type="range" min="1" max="20" step="0.5" value="1">
              <span id="block-scale-value">1</span>              
            </div>
            <div class="control-group">
              <label for="blur">Blur:</label>
              <input type="range" id="blur" min="0" max="10" value="0">
              <span id="blur-value">0</span>
            </div>
          </div>
          <!-- Custom Palette UI -->
          <div id="palette" class="controls palette-controls">
            <h2>Custom Color Palette</h2>
            <div class="control-group">
              <label for="presetPalettes">Preset Palettes:</label>
              <select id="presetPalettes"></select>
            </div>
            <div id="palette-container" class="palette-container"></div>
            <div class="control-group">
              <button id="add-color-btn">+</button>
              <button id="clear-palette-btn">Clear Palette</button>
            </div>
            <div class="control-group">
              <button id="export-palette-btn">Export Palette</button>
              <button id="import-palette-btn">Import Palette</button>
            </div>
            <textarea id="palette-textarea" rows="3" style="display:none;"></textarea>
          </div>
        </div>
      </div>
      <!-- Modal Color Picker -->
      <div id="color-modal" class="modal" style="display:none;">
        <div class="modal-content">
          <h3>Edit Color</h3>
          <input type="color" id="color-picker" value="#ffffff">
          <div class="modal-buttons">
            <button id="modal-cancel-btn">Cancel</button>
            <button id="modal-remove-btn">Remove</button>
            <button id="modal-select-btn">Select</button>
          </div>
        </div>
      </div>
    </div>
    <script type="module" src="/src/main.js"></script>
  </body>
</html>
